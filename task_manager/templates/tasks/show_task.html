{% extends 'layout.html' %}
{% load custom_tags %}
{% block title %}{{ title }}{% endblock %}
{% block main %}
<div class="container mt-4">
    <div class="card">
        <div class="card-header">
            <h3>Task #{{ task.id }}: {{ task.name }}</h3>
        </div>
        <div class="card-body">
            <table class="table table-bordered">
                <tbody>
                    <tr>
                        <th style="width: 200px">Status</th>
                        <td>{{ task.status }}</td>
                    </tr>
                    <tr>
                        <th>Labels</th>
                        <td>
                            {% for label in task.labels.all %}
                                {{ label }}{% if not forloop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <th>Creator</th>
                        <td>{{ task.creator.username }}</td>
                    </tr>
                    <tr>
                        <th>Executor</th>
                        <td>{{ task.executor.username|default:'-' }}</td>
                    </tr>
                    <tr>
                        <th>Executor</th>
                        <td>{{ task.executor.first_name }} {{ task.executor.last_name }}</td>
                    </tr>
                    <tr>
                        <th>Description</th>
                        <td>{{ task.description }}</td>
                    </tr>
                </tbody>
            </table>
            <div class="mt-3">
                <a href="{% url 'task_update' task.id %}" class="btn btn-primary">Изменить</a>
                <a href="{% url 'task_delete' task.id %}" class="btn btn-danger">Удалить</a>
                <a href="{% url 'tasks' %}" class="btn btn-secondary">Back to Tasks</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}